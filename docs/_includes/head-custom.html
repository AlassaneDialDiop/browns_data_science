<!-- Mermaid.js support for GitHub Pages -->
<script type="module">
import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';

// Initialize Mermaid with custom configuration
mermaid.initialize({
  startOnLoad: true,
  theme: 'neutral',
  themeVariables: {
    primaryColor: '#fff',
    primaryTextColor: '#000',
    primaryBorderColor: '#000',
    lineColor: '#666',
    secondaryColor: '#f8f9fa',
    tertiaryColor: '#e8eaf6',
    background: '#fff',
    mainBkg: '#fff',
    secondBkg: '#f8f9fa',
    tertiaryBkg: '#e8eaf6'
  }
});

// Run Mermaid on elements with class="language-mermaid" (Jekyll's default)
document.addEventListener('DOMContentLoaded', async () => {
  await mermaid.run({querySelector: 'code.language-mermaid'});
});
</script>

<!-- Tab switching for Tableau report pages -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.tab-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var group = btn.closest('.tabs-container');
      group.querySelectorAll('.tab-btn').forEach(function(b) { b.classList.remove('active'); });
      group.querySelectorAll('.tab-panel').forEach(function(p) { p.classList.remove('active'); });
      btn.classList.add('active');
      group.querySelector('#' + btn.getAttribute('data-tab')).classList.add('active');
    });
  });
});
</script>